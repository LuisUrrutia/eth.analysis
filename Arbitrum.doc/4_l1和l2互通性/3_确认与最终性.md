# 3_确认与最终性


如同在以太坊中一样，Arbitrum交易也不会马上完成。如果有恶意的验证者，它们能发布与真实情况相悖的断言，系统需要一定时间来确定谁是正确的。

实际上，每个验证者都在为链的特定一部分未来背书。如果你是用户，你的交易出现在某段而非另一段断言中，那么你需要清除系统会选择哪一边。

用户在交易完全确认之前需要等待。

客户端有三种模式来对交易进行确认。

在当前的Arbitrum beta版本中，客户端默认使用第三种，依赖于他们连接的聚合器。
在后面的版本中，客户端软件可以选择不同的模式。

## 交易的链上确认
最强的确认是链上确认（以太坊确认），也即EthBridge合约确认了该交易。一旦有了坚实的链上确认，结果就永远无法改变。

链上确认比其他形式的确认更慢。

## 验证者对你的交易进行了质押
Arb链的验证者会在各种未确认历史上进行质押。Arbitrum确保了质押的两个特点：
* 如果选择的是正确的未确认历史，该历史最终一定会被系统接受。
* 如果所质押的未确认历史最终被拒绝，验证者会失去质押物。

你可以以自己信任的验证者为标准，当它们质押到你的交易上时你就可以认为交易已经完成了。

如果你本身就是验证者，则可以信赖你自己。如果你的交易是在正确的未确认历史上，最终一定会确认。

## 验证者或聚合器在不质押的情况下为交易背书
最弱的确认形式是你信任的一方在不质押的情况下说你的交易处于正确的未确认历史上。在不质押的情况下，说谎者并没有声誉损失外的任何直接惩罚。但如果你非常信任他们，可能也足够用来进行确认。

## 序列器模式下的最终性
对于使用序列器模式的Arbitrum链，序列器可以提供迅速的、半可信的链下确认。即使是恶意的序列器也无法摆脱最后交易被判定为无效（与验证者一样）；当然序列器也有可能没有实现打包交易的承诺，它也可以在一小段时间窗口内对交易重新排序。对序列器引入加密经济学的惩罚措施也是可以的（例如，序列器违背承诺会丧失其保证金），但这些安全机制与Arbitrum自身是垂直的。

一旦序列器在链上发布了用户的交易，交易就收到Arbitrum协议的保障，用户根据上述三种模式来进行确认。更多信息见[序列器模式](../2_深入理解协议/1_洞悉Arbitrum.md#序列器模式)。

## 提款
和最终性紧密相关的一点是从Arbitrum上向以太坊提款。在[4_提款](4_提款.md)中有详细论述



← [2_代币桥接](2_代币桥接.md)
→ [4_提款](4_提款.md)











